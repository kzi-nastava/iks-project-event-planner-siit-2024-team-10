<div class="container" *ngIf="offering">
  <div class="card">
    <!-- Left Side - Image Section -->
    <div class="image-section">
      <div class="carousel">
        <img [src]="images[activeImage]" [alt]="'Image ' + (activeImage + 1)" class="main-image">
      </div>
      <div class="thumbnails">
        <img 
          *ngFor="let image of images; let i = index"
          [src]="image"
          [alt]="'Thumbnail ' + (i + 1)"
          class="thumbnail"
          [class.active]="i === activeImage"
          (click)="setActiveImage(i)"
        >
      </div>
    </div>

    <!-- Right Side - Details Section -->
    <div class="details-section">
      <h1 class="product-title">{{offering.name}}</h1>

      <div class="price-availability">
        <span class="price">{{offering.price}}‚Ç¨</span>
        <span class="availability">Available</span>
      </div>

      <!-- Provider Card -->
      <div class="provider-card">
        <div class="provider-header">
          <img src="image2.png" alt="Provider" class="provider-image">
          <div class="provider-info">
            <h3>name</h3>
            <p>email</p>
            <div class="provider-rating">
              <span class="stars">‚òÖ‚òÖ‚òÖ‚òÖ‚òÜ</span>
              <span>4
              </span>
            </div>
          </div>
        </div>
        <div class="provider-actions">
          <button class="view-provider-btn">View Profile</button>
          <button class="report-provider-btn">Report Provider</button>
        </div>
      </div>

      <div class="rating">
        <span class="stars">‚òÖ‚òÖ‚òÖ‚òÖ‚òÜ</span>
        <span class="rating-number">({{offering.rating}})</span>
      </div>

      <mat-accordion class="panels-container">
        <mat-expansion-panel class="custom-panel">
          <mat-expansion-panel-header>
            <mat-panel-title>Category</mat-panel-title>
          </mat-expansion-panel-header>
          <p>{{offering.category}}</p>
        </mat-expansion-panel>

        <mat-expansion-panel class="custom-panel" *ngIf="isService(offering)">
          <mat-expansion-panel-header>
            <mat-panel-title>Specification</mat-panel-title>
          </mat-expansion-panel-header>
          <p>{{offering.specification}}</p>
        </mat-expansion-panel>
        
        <mat-expansion-panel class="custom-panel" *ngIf="isService(offering)">
          <mat-expansion-panel-header>
            <mat-panel-title>Cancellation deadline</mat-panel-title>
          </mat-expansion-panel-header>
          <p>{{offering.cancellationPeriod}}</p>
        </mat-expansion-panel>

        <mat-expansion-panel class="custom-panel" *ngIf="isService(offering)">
          <mat-expansion-panel-header>
            <mat-panel-title>Reservation deadline</mat-panel-title>
          </mat-expansion-panel-header>
          <p>{{offering.reservationPeriod}}</p>
        </mat-expansion-panel>

        <mat-expansion-panel class="custom-panel" *ngIf="offering.isProduct">
          <mat-expansion-panel-header>
            <mat-panel-title>Event Types</mat-panel-title>
          </mat-expansion-panel-header>
          <p>{{offering.eventTypes?.join(', ')}}</p>
        </mat-expansion-panel>
      </mat-accordion>

      <div class="action-buttons">
        <button style="padding-bottom: 20px;" class="view-provider-btn">
          <span class="btn-icon">üìÖ</span>
          Book Now
        </button>
        <button class="favorite-btn" [class.active]="isFavorite" (click)="toggleFavorite()">
          <span class="heart-icon">{{isFavorite ? '‚ù§Ô∏è' : 'ü§ç'}}</span>
        </button>
      </div>
    </div>
  </div>

  <!-- Comments Section -->
  <div class="comments-section">
    <h2>Customer Reviews</h2>
    
    <!-- New Comment Form -->
    <div class="comment-form">
      <h3>Leave a Review</h3>
      <div class="rating-input">
        <span>Your Rating:</span>
        <div class="stars-input">
          <span 
            *ngFor="let star of getStarArray(5); let i = index"
            (click)="setRating(i + 1)"
            [class.filled]="i < userRating"
            class="star-icon"
          >‚òÖ</span>
        </div>
      </div>
      <input 
        type="text" 
        [(ngModel)]="newComment.userName" 
        placeholder="Your Name"
        class="input-field"
      >
      <textarea 
        [(ngModel)]="newComment.text" 
        placeholder="Your Review"
        class="input-field"
      ></textarea>
      <button 
        (click)="submitComment()"
        class="submit-btn"
        [disabled]="!newComment.userName || !newComment.text || !newComment.rating"
      >Submit Review</button>
    </div>

    <!-- Existing Comments -->
    <div class="comments-list">
      <div *ngFor="let comment of comments" class="comment-card">
        <div class="comment-header">
          <span class="user-name">{{ comment.userName }}</span>
          <div class="stars">
            <span *ngFor="let star of getStarArray(comment.rating)">
              {{ star ? '‚òÖ' : '‚òÜ' }}
            </span>
          </div>
        </div>
        <p class="comment-text">{{ comment.text }}</p>
        <span class="comment-date">{{ comment.date | date }}</span>
      </div>
    </div>
  </div>  
<button class="edit-fab" (click)="navigateToEdit()">
  ‚úèÔ∏è
</button>

</div>